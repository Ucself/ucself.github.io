<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>Git的奇技</title>
  <meta name="description" content="Git的奇技">
  <meta name="author" content="Wei Wang">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Git的奇技">
  <meta name="twitter:description" content="Git的奇技">
  
  <meta property="og:type" content="article">
  <meta property="og:title" content="Git的奇技">
  <meta property="og:description" content="Git的奇技">
  
  <link rel="icon" type="image/png" href="/assets/images/favicon.png" />
  <link href="/assets/images/favicon.png" rel="shortcut icon" type="image/png">
  
  <link rel="stylesheet" href="/css/main.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="https://ucself.cn/2020/08/Git%E7%9A%84%E5%A5%87%E6%8A%80/">
  <link rel="alternate" type="application/rss+xml" title="Ucself" href="https://ucself.cn/feed.xml">
  
  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />
  <script>
  	var _mtac = {"senseQuery":1};
  	(function() {
  		var mta = document.createElement("script");
  		mta.src = "//pingjs.qq.com/h5/stats.js?v2.0.4";
  		mta.setAttribute("name", "MTAH5");
  		mta.setAttribute("sid", "500682965");
  		mta.setAttribute("cid", "500682966");
  		var s = document.getElementsByTagName("script")[0];
  		s.parentNode.insertBefore(mta, s);
  	})();
</script>
</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
    <header
  class="panel-cover panel-cover--collapsed"
  style="background-image: url('/assets/images/background-cover.jpg')"
>
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
      <div class="panel-main__content">
        <a
          href="/#blog"
          title="前往 Ucself 的主页"
          class="blog-button"
          ><img
            src="/assets/images/avatar.jpg"
            width="80"
            alt="Ucself logo"
            class="panel-cover__logo logo"
        /></a>
        <h1 class="panel-cover__title panel-title">
          <a
            href="/#blog"
            title="link to homepage for Ucself"
            class="blog-button"
            >Ucself</a
          >
        </h1>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">嗨，我是ucself，一名大前端开发工程师。</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        
        <p class="panel-cover__description">总结与创造，学习与创新，搭建自我知识体系。</p>
        

        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item">
                  <a
                    href="/#blog"
                    title="Visit blog"
                    class="blog-button"
                    >博客</a
                  >
                </li>
                 
                <li class="navigation__item">
                  <a href="/pages/git" title="Git">Git</a>
                </li>
                  
                <li class="navigation__item">
                  <a href="/pages/cocoapods" title="cocoapods">cocoapods</a>
                </li>
                  
                <li class="navigation__item">
                  <a href="/pages/archive" title="归档">归档</a>
                </li>
                 
              </ul>
            </nav>
          </div>

          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">
    
    <!-- Weibo -->
    <li class="navigation__item">
      <a
        href="#"
        title="添加 lbj147123 的微信"
      >
        <i class="social fa fa-weixin"></i>
        <span class="label">Weixin</span>
      </a>
    </li>
    
    <!-- Weibo -->
    <li class="navigation__item">
      <a
        href="http://weibo.com/p/1005052165916834"
        title="@p/1005052165916834 的微博"
        target="_blank"
      >
        <i class="social fa fa-weibo"></i>
        <span class="label">Weibo</span>
      </a>
    </li>
     
    <!-- Github -->
    <li class="navigation__item">
      <a
        href="https://github.com/Ucself"
        title="@Ucself 的 Github"
        target="_blank"
      >
        <i class="social fa fa-github"></i>
        <span class="label">Github</span>
      </a>
    </li>
      

    <!-- RSS -->
    <li class="navigation__item">
      <a href="/feed.xml" rel="author" title="RSS" target="_blank">
        <i class="social fa fa-rss"></i>
        <span class="label">RSS</span>
      </a>
    </li>

    
    <!-- Email -->
    <li class="navigation__item">
      <a href="mailto:lbj147123@163.com" title="Contact me">
        <i class="social fa fa-envelope"></i>
        <span class="label">Email</span>
      </a>
    </li>
    
  </ul>
</nav>
</div>
        </div>
      </div>
    </div>

    
    <div class="panel-cover--overlay cover-red"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article
  class="post-container post-container--single"
  itemscope
  itemtype="http://schema.org/BlogPosting"
>
  <header class="post-header">
    <div class="post-meta">
      <time
        datetime="2020-08-12 00:00:00 +0800"
        itemprop="datePublished"
        class="post-meta__date date"
        >2020-08-12</time
      >
      &#8226;
      <span class="post-meta__tags tags">git</span>
    </div>
    <h1 class="post-title">Git的奇技</h1>
  </header>

  <section class="post">
    <h1 id="git-的奇技淫巧see_no_evil">Git 的奇技淫巧:see_no_evil:</h1>

<blockquote>
  <p>Git 常用命令集合，Fork 于<a href="https://github.com/git-tips/tips">tips</a>项目</p>
</blockquote>

<p>Git 是一个“分布式版本管理工具”，简单的理解版本管理工具：大家在写东西的时候都用过“回撤”这个功能，但是回撤只能回撤几步，假如想要找回我三天之前的修改，光用“回撤”是找不回来的。而“版本管理工具”能记录每次的修改，只要提交到版本仓库，你就可以找到之前任何时刻的状态（文本状态）。</p>

<p>下面的内容就是列举了常用的 Git 命令和一些小技巧，可以通过”页面内查找”的方式进行快速查询：<code class="highlighter-rouge">Ctrl/Command+f</code>。</p>

<h2 id="开卷必读">开卷必读</h2>

<p><em>如果之前未使用过 Git，可以学习<a href="http://rogerdudler.github.io/git-guide/index.zh.html">Git 小白教程</a>入门</em></p>

<ol>
  <li><strong>一定要先测试命令的效果后</strong>，再用于工作环境中，以防造成不能弥补的后果！<strong>到时候别拿着砍刀来找我</strong></li>
  <li>所有的命令都在<code class="highlighter-rouge">git version 2.7.4 (Apple Git-66)</code>下测试通过</li>
  <li>统一概念：
    <ul>
      <li>工作区：改动（增删文件和内容）</li>
      <li>暂存区：输入命令：<code class="highlighter-rouge">git add 改动的文件名</code>，此次改动就放到了‘暂存区’</li>
      <li>本地仓库(简称：本地)：输入命令：<code class="highlighter-rouge">git commit 此次修改的描述</code>，此次改动就放到了’本地仓库’，每个 commit，我叫它为一个‘版本’。</li>
      <li>远程仓库(简称：远程)：输入命令：<code class="highlighter-rouge">git push 远程仓库</code>，此次改动就放到了‘远程仓库’（GitHub 等)</li>
      <li>commit-id：输出命令：<code class="highlighter-rouge">git log</code>，最上面那行<code class="highlighter-rouge">commit xxxxxx</code>，后面的字符串就是 commit-id</li>
    </ul>
  </li>
  <li>如果喜欢这个项目，欢迎 Star、提交 Pr、<a href="https://github.com/521xueweihan/git-tips/issues">反馈问题</a>😊</li>
</ol>

<h2 id="目录">目录</h2>

<ul>
  <li><a href="#git_zsh_常用别名">git_zsh_常用别名</a></li>
  <li><a href="#展示帮助信息">展示帮助信息</a></li>
  <li><a href="#回到远程仓库的状态">回到远程仓库的状态</a></li>
  <li><a href="#重设第一个commit">重设第一个 commit</a></li>
  <li><a href="#展示工作区和暂存区的不同">展示工作区和暂存区的不同</a></li>
  <li><a href="#展示暂存区和最近版本的不同">展示暂存区和最近版本的不同</a></li>
  <li><a href="#展示暂存区工作区和最近版本的不同">展示暂存区、工作区和最近版本的不同</a></li>
  <li><a href="#快速切换分支">快速切换分支</a></li>
  <li><a href="#删除已经合并到master的分支">删除已经合并到 master 的分支</a></li>
  <li><a href="#展示本地分支关联远程仓库的情况">展示本地分支关联远程仓库的情况</a></li>
  <li><a href="#关联远程分支">关联远程分支</a></li>
  <li><a href="#列出所有远程分支">列出所有远程分支</a></li>
  <li><a href="#列出本地和远程分支">列出本地和远程分支</a></li>
  <li><a href="#创建并切换到本地分支">创建并切换到本地分支</a></li>
  <li><a href="#创建并切换到远程分支">创建并切换到远程分支</a></li>
  <li><a href="#删除本地分支">删除本地分支</a></li>
  <li><a href="#删除远程分支">删除远程分支</a></li>
  <li><a href="#重命名本地分支">重命名本地分支</a></li>
  <li><a href="#查看标签">查看标签</a></li>
  <li><a href="#本地创建标签">本地创建标签</a></li>
  <li><a href="#推送标签到远程仓库">推送标签到远程仓库</a></li>
  <li><a href="#删除本地标签">删除本地标签</a></li>
  <li><a href="#删除远程标签">删除远程标签</a></li>
  <li><a href="#切回到某个标签">切回到某个标签</a></li>
  <li><a href="#放弃工作区的修改">放弃工作区的修改</a></li>
  <li><a href="#恢复删除的文件">恢复删除的文件</a></li>
  <li><a href="#回到某一个commit的状态并重新增添一个commit">回到某一个 commit 的状态，并重新增添一个 commit</a></li>
  <li><a href="#回到某个commit的状态并删除后面的commit">回到某个 commit 的状态，并删除后面的 commit</a></li>
  <li><a href="#修改上一个commit的描述">修改上一个 commit 的描述</a></li>
  <li><a href="#查看commit历史">查看 commit 历史</a></li>
  <li><a href="#显示本地执行过git命令">显示本地执行过 git 命令</a></li>
  <li><a href="#修改作者名">修改作者名</a></li>
  <li><a href="#修改远程仓库的url">修改远程仓库的 url</a></li>
  <li><a href="#增加远程仓库">增加远程仓库</a></li>
  <li><a href="#列出所有远程仓库">列出所有远程仓库</a></li>
  <li><a href="#查看两个星期内的改动">查看两个星期内的改动</a></li>
  <li><a href="#把A分支的某一个commit放到B分支上">把 A 分支的某一个 commit，放到 B 分支上</a></li>
  <li><a href="#给git命令起别名">给 git 命令起别名</a></li>
  <li><a href="#存储当前的修改但不用提交commit">存储当前的修改，但不用提交 commit</a></li>
  <li><a href="#保存当前状态包括untracked的文件">保存当前状态，包括 untracked 的文件</a></li>
  <li><a href="#展示所有stashes">展示所有 stashes</a></li>
  <li><a href="#回到某个stash的状态">回到某个 stash 的状态</a></li>
  <li><a href="#回到最后一个stash的状态并删除这个stash">回到最后一个 stash 的状态，并删除这个 stash</a></li>
  <li><a href="#删除所有的stash">删除所有的 stash</a></li>
  <li><a href="#从stash中拿出某个文件的修改">从 stash 中拿出某个文件的修改</a></li>
  <li><a href="#展示所有tracked的文件">展示所有 tracked 的文件</a></li>
  <li><a href="#展示所有untracked的文件">展示所有 untracked 的文件</a></li>
  <li><a href="#展示所有忽略的文件">展示所有忽略的文件</a></li>
  <li><a href="#强制删除untracked的文件">强制删除 untracked 的文件</a></li>
  <li><a href="#强制删除untracked的目录">强制删除 untracked 的目录</a></li>
  <li><a href="#展示简化的commit历史">展示简化的 commit 历史</a></li>
  <li><a href="#查看某段代码是谁写的">查看某段代码是谁写的</a></li>
  <li><a href="#把某一个分支到导出成一个文件">把某一个分支到导出成一个文件</a></li>
  <li><a href="#从包中导入分支">从包中导入分支</a></li>
  <li><a href="#执行rebase之前自动stash">执行 rebase 之前自动 stash</a></li>
  <li><a href="#从远程仓库根据ID拉下某一状态-到本地分支">从远程仓库根据 ID，拉下某一状态，到本地分支</a></li>
  <li><a href="#详细展示一行中的修改">详细展示一行中的修改</a></li>
  <li><a href="#清除gitignore文件中记录的文件">清除<code class="highlighter-rouge">.gitignore</code>文件中记录的文件</a></li>
  <li><a href="#展示所有alias和configs">展示所有 alias 和 configs</a></li>
  <li><a href="#展示忽略的文件">展示忽略的文件</a></li>
  <li><a href="#commit历史中显示Branch1有的但是Branch2没有commit">commit 历史中显示 Branch1 有的，但是 Branch2 没有 commit</a></li>
  <li><a href="#在commit-log中显示GPG签名">在 commit log 中显示 GPG 签名</a></li>
  <li><a href="#删除全局设置">删除全局设置</a></li>
  <li><a href="#新建并切换到新分支上同时这个分支没有任何commit">新建并切换到新分支上，同时这个分支没有任何 commit</a></li>
  <li><a href="#展示任意分支某一文件的内容">展示任意分支某一文件的内容</a></li>
  <li><a href="#clone下来指定的单一分支">clone 下来指定的单一分支</a></li>
  <li><a href="#忽略某个文件的改动">忽略某个文件的改动</a></li>
  <li><a href="#忽略文件的权限变化">忽略文件的权限变化</a></li>
  <li><a href="#以最后提交的顺序列出所有Git分支">以最后提交的顺序列出所有 Git 分支</a></li>
  <li><a href="#在commit-log中查找相关内容">在 commit log 中查找相关内容</a></li>
  <li><a href="#把暂存区的指定file放到工作区中">把暂存区的指定 file 放到工作区中</a></li>
  <li><a href="#强制推送">强制推送</a></li>
  <li><a href="#联系我">联系我</a></li>
</ul>

<h2 id="gitzsh常用别名">git<em>zsh</em>常用别名</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span><span class="nv">g</span><span class="o">=</span><span class="s1">'git'</span>

<span class="nb">alias </span><span class="nv">ga</span><span class="o">=</span><span class="s1">'git add'</span>
<span class="nb">alias </span><span class="nv">gaa</span><span class="o">=</span><span class="s1">'git add --all'</span>
<span class="nb">alias </span><span class="nv">gapa</span><span class="o">=</span><span class="s1">'git add --patch'</span>
<span class="nb">alias </span><span class="nv">gau</span><span class="o">=</span><span class="s1">'git add --update'</span>
<span class="nb">alias </span><span class="nv">gap</span><span class="o">=</span><span class="s1">'git apply'</span>

<span class="nb">alias </span><span class="nv">gb</span><span class="o">=</span><span class="s1">'git branch'</span>
<span class="nb">alias </span><span class="nv">gba</span><span class="o">=</span><span class="s1">'git branch -a'</span>
<span class="nb">alias </span><span class="nv">gbd</span><span class="o">=</span><span class="s1">'git branch -d'</span>
<span class="nb">alias </span><span class="nv">gbda</span><span class="o">=</span><span class="s1">'git branch --no-color --merged | command grep -vE "^(\*|\s*(master|develop|dev)\s*$)" | command xargs -n 1 git branch -d'</span>
<span class="nb">alias </span><span class="nv">gbl</span><span class="o">=</span><span class="s1">'git blame -b -w'</span>
<span class="nb">alias </span><span class="nv">gbnm</span><span class="o">=</span><span class="s1">'git branch --no-merged'</span>
<span class="nb">alias </span><span class="nv">gbr</span><span class="o">=</span><span class="s1">'git branch --remote'</span>

<span class="nb">alias </span><span class="nv">gbs</span><span class="o">=</span><span class="s1">'git bisect'</span>
<span class="nb">alias </span><span class="nv">gbsb</span><span class="o">=</span><span class="s1">'git bisect bad'</span>
<span class="nb">alias </span><span class="nv">gbsg</span><span class="o">=</span><span class="s1">'git bisect good'</span>
<span class="nb">alias </span><span class="nv">gbsr</span><span class="o">=</span><span class="s1">'git bisect reset'</span>
<span class="nb">alias </span><span class="nv">gbss</span><span class="o">=</span><span class="s1">'git bisect start'</span>

<span class="nb">alias </span><span class="nv">gc</span><span class="o">=</span><span class="s1">'git commit -v'</span>
<span class="nb">alias </span>gc!<span class="o">=</span><span class="s1">'git commit -v --amend'</span>
<span class="nb">alias </span>gcn!<span class="o">=</span><span class="s1">'git commit -v --no-edit --amend'</span>
<span class="nb">alias </span><span class="nv">gca</span><span class="o">=</span><span class="s1">'git commit -v -a'</span>
<span class="nb">alias </span>gca!<span class="o">=</span><span class="s1">'git commit -v -a --amend'</span>
<span class="nb">alias </span>gcan!<span class="o">=</span><span class="s1">'git commit -v -a --no-edit --amend'</span>
<span class="nb">alias </span>gcans!<span class="o">=</span><span class="s1">'git commit -v -a -s --no-edit --amend'</span>
<span class="nb">alias </span><span class="nv">gcam</span><span class="o">=</span><span class="s1">'git commit -a -m'</span>
<span class="nb">alias </span><span class="nv">gcsm</span><span class="o">=</span><span class="s1">'git commit -s -m'</span>

<span class="nb">alias </span><span class="nv">gcb</span><span class="o">=</span><span class="s1">'git checkout -b'</span>
<span class="nb">alias </span><span class="nv">gcf</span><span class="o">=</span><span class="s1">'git config --list'</span>
<span class="nb">alias </span><span class="nv">gcl</span><span class="o">=</span><span class="s1">'git clone --recursive'</span>
<span class="nb">alias </span><span class="nv">gclean</span><span class="o">=</span><span class="s1">'git clean -fd'</span>
<span class="nb">alias </span><span class="nv">gpristine</span><span class="o">=</span><span class="s1">'git reset --hard &amp;&amp; git clean -dfx'</span>
<span class="nb">alias </span><span class="nv">gcm</span><span class="o">=</span><span class="s1">'git checkout master'</span>
<span class="nb">alias </span><span class="nv">gcd</span><span class="o">=</span><span class="s1">'git checkout develop'</span>
<span class="nb">alias </span><span class="nv">gcmsg</span><span class="o">=</span><span class="s1">'git commit -m'</span>
<span class="nb">alias </span><span class="nv">gco</span><span class="o">=</span><span class="s1">'git checkout'</span>
<span class="nb">alias </span><span class="nv">gcount</span><span class="o">=</span><span class="s1">'git shortlog -sn'</span>
<span class="nb">alias </span><span class="nv">gcp</span><span class="o">=</span><span class="s1">'git cherry-pick'</span>
<span class="nb">alias </span><span class="nv">gcpa</span><span class="o">=</span><span class="s1">'git cherry-pick --abort'</span>
<span class="nb">alias </span><span class="nv">gcpc</span><span class="o">=</span><span class="s1">'git cherry-pick --continue'</span>
<span class="nb">alias </span><span class="nv">gcs</span><span class="o">=</span><span class="s1">'git commit -S'</span>
<span class="nb">alias </span><span class="nv">gd</span><span class="o">=</span><span class="s1">'git diff'</span>
<span class="nb">alias </span><span class="nv">gdca</span><span class="o">=</span><span class="s1">'git diff --cached'</span>
<span class="nb">alias </span><span class="nv">gdcw</span><span class="o">=</span><span class="s1">'git diff --cached --word-diff'</span>
<span class="nb">alias </span><span class="nv">gdct</span><span class="o">=</span><span class="s1">'git describe --tags `git rev-list --tags --max-count=1`'</span>
<span class="nb">alias </span><span class="nv">gdt</span><span class="o">=</span><span class="s1">'git diff-tree --no-commit-id --name-only -r'</span>
<span class="nb">alias </span><span class="nv">gdw</span><span class="o">=</span><span class="s1">'git diff --word-diff'</span>
<span class="nb">alias </span><span class="nv">gf</span><span class="o">=</span><span class="s1">'git fetch'</span>
<span class="nb">alias </span><span class="nv">gfa</span><span class="o">=</span><span class="s1">'git fetch --all --prune'</span>
<span class="nb">alias </span><span class="nv">gfo</span><span class="o">=</span><span class="s1">'git fetch origin'</span>
<span class="nb">alias </span><span class="nv">gg</span><span class="o">=</span><span class="s1">'git gui citool'</span>
<span class="nb">alias </span><span class="nv">gga</span><span class="o">=</span><span class="s1">'git gui citool --amend'</span>
<span class="nb">alias </span><span class="nv">ggpur</span><span class="o">=</span><span class="s1">'ggu'</span>
<span class="nb">alias </span><span class="nv">ggpull</span><span class="o">=</span><span class="s1">'git pull origin $(git_current_branch)'</span>
<span class="nb">alias </span><span class="nv">ggpush</span><span class="o">=</span><span class="s1">'git push origin $(git_current_branch)'</span>
<span class="nb">alias </span><span class="nv">ggsup</span><span class="o">=</span><span class="s1">'git branch --set-upstream-to=origin/$(git_current_branch)'</span>
<span class="nb">alias </span><span class="nv">gpsup</span><span class="o">=</span><span class="s1">'git push --set-upstream origin $(git_current_branch)'</span>
<span class="nb">alias </span><span class="nv">ghh</span><span class="o">=</span><span class="s1">'git help'</span>
<span class="nb">alias </span><span class="nv">gignore</span><span class="o">=</span><span class="s1">'git update-index --assume-unchanged'</span>
<span class="nb">alias </span><span class="nv">gignored</span><span class="o">=</span><span class="s1">'git ls-files -v | grep "^[[:lower:]]"'</span>
<span class="nb">alias </span>git-svn-dcommit-push<span class="o">=</span><span class="s1">'git svn dcommit &amp;&amp; git push github master:svntrunk'</span>
<span class="nb">alias </span><span class="nv">gk</span><span class="o">=</span><span class="s1">'\gitk --all --branches'</span>
<span class="nb">alias </span><span class="nv">gke</span><span class="o">=</span><span class="s1">'\gitk --all $(git log -g --pretty=%h)'</span>
<span class="nb">alias </span><span class="nv">gl</span><span class="o">=</span><span class="s1">'git pull'</span>

<span class="nb">alias </span><span class="nv">glg</span><span class="o">=</span><span class="s1">'git log --stat'</span>
<span class="nb">alias </span><span class="nv">glgp</span><span class="o">=</span><span class="s1">'git log --stat -p'</span>
<span class="nb">alias </span><span class="nv">glgg</span><span class="o">=</span><span class="s1">'git log --graph'</span>
<span class="nb">alias </span><span class="nv">glgga</span><span class="o">=</span><span class="s1">'git log --graph --decorate --all'</span>
<span class="nb">alias </span><span class="nv">glgm</span><span class="o">=</span><span class="s1">'git log --graph --max-count=10'</span>
<span class="nb">alias </span><span class="nv">glo</span><span class="o">=</span><span class="s1">'git log --oneline --decorate'</span>
<span class="nb">alias </span><span class="nv">glol</span><span class="o">=</span><span class="s2">"git log --graph --pretty='%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset'"</span>
<span class="nb">alias </span><span class="nv">glod</span><span class="o">=</span><span class="s2">"git log --graph --pretty='%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%ad) %C(bold blue)&lt;%an&gt;%Creset'"</span>
<span class="nb">alias </span><span class="nv">glods</span><span class="o">=</span><span class="s2">"git log --graph --pretty='%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%ad) %C(bold blue)&lt;%an&gt;%Creset' --date=short"</span>
<span class="nb">alias </span><span class="nv">glola</span><span class="o">=</span><span class="s2">"git log --graph --pretty='%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --all"</span>
<span class="nb">alias </span><span class="nv">glog</span><span class="o">=</span><span class="s1">'git log --oneline --decorate --graph'</span>
<span class="nb">alias </span><span class="nv">gloga</span><span class="o">=</span><span class="s1">'git log --oneline --decorate --graph --all'</span>
<span class="nb">alias </span><span class="nv">glp</span><span class="o">=</span><span class="s2">"_git_log_prettily"</span>

<span class="nb">alias </span><span class="nv">gm</span><span class="o">=</span><span class="s1">'git merge'</span>
<span class="nb">alias </span><span class="nv">gmom</span><span class="o">=</span><span class="s1">'git merge origin/master'</span>
<span class="nb">alias </span><span class="nv">gmt</span><span class="o">=</span><span class="s1">'git mergetool --no-prompt'</span>
<span class="nb">alias </span><span class="nv">gmtvim</span><span class="o">=</span><span class="s1">'git mergetool --no-prompt --tool=vimdiff'</span>
<span class="nb">alias </span><span class="nv">gmum</span><span class="o">=</span><span class="s1">'git merge upstream/master'</span>
<span class="nb">alias </span><span class="nv">gma</span><span class="o">=</span><span class="s1">'git merge --abort'</span>
<span class="nb">alias </span><span class="nv">gp</span><span class="o">=</span><span class="s1">'git push'</span>
<span class="nb">alias </span><span class="nv">gpd</span><span class="o">=</span><span class="s1">'git push --dry-run'</span>
<span class="nb">alias </span><span class="nv">gpoat</span><span class="o">=</span><span class="s1">'git push origin --all &amp;&amp; git push origin --tags'</span>
<span class="nb">alias </span><span class="nv">gpu</span><span class="o">=</span><span class="s1">'git push upstream'</span>
<span class="nb">alias </span><span class="nv">gpv</span><span class="o">=</span><span class="s1">'git push -v'</span>

<span class="nb">alias </span><span class="nv">gr</span><span class="o">=</span><span class="s1">'git remote'</span>
<span class="nb">alias </span><span class="nv">gra</span><span class="o">=</span><span class="s1">'git remote add'</span>
<span class="nb">alias </span><span class="nv">grb</span><span class="o">=</span><span class="s1">'git rebase'</span>
<span class="nb">alias </span><span class="nv">grba</span><span class="o">=</span><span class="s1">'git rebase --abort'</span>
<span class="nb">alias </span><span class="nv">grbc</span><span class="o">=</span><span class="s1">'git rebase --continue'</span>
<span class="nb">alias </span><span class="nv">grbi</span><span class="o">=</span><span class="s1">'git rebase -i'</span>
<span class="nb">alias </span><span class="nv">grbm</span><span class="o">=</span><span class="s1">'git rebase master'</span>
<span class="nb">alias </span><span class="nv">grbs</span><span class="o">=</span><span class="s1">'git rebase --skip'</span>
<span class="nb">alias </span><span class="nv">grh</span><span class="o">=</span><span class="s1">'git reset HEAD'</span>
<span class="nb">alias </span><span class="nv">grhh</span><span class="o">=</span><span class="s1">'git reset HEAD --hard'</span>
<span class="nb">alias </span><span class="nv">grmv</span><span class="o">=</span><span class="s1">'git remote rename'</span>
<span class="nb">alias </span><span class="nv">grrm</span><span class="o">=</span><span class="s1">'git remote remove'</span>
<span class="nb">alias </span><span class="nv">grset</span><span class="o">=</span><span class="s1">'git remote set-url'</span>
<span class="nb">alias </span><span class="nv">grt</span><span class="o">=</span><span class="s1">'cd $(git rev-parse --show-toplevel || echo ".")'</span>
<span class="nb">alias </span><span class="nv">gru</span><span class="o">=</span><span class="s1">'git reset --'</span>
<span class="nb">alias </span><span class="nv">grup</span><span class="o">=</span><span class="s1">'git remote update'</span>
<span class="nb">alias </span><span class="nv">grv</span><span class="o">=</span><span class="s1">'git remote -v'</span>

<span class="nb">alias </span><span class="nv">gsb</span><span class="o">=</span><span class="s1">'git status -sb'</span>
<span class="nb">alias </span><span class="nv">gsd</span><span class="o">=</span><span class="s1">'git svn dcommit'</span>
<span class="nb">alias </span><span class="nv">gsi</span><span class="o">=</span><span class="s1">'git submodule init'</span>
<span class="nb">alias </span><span class="nv">gsps</span><span class="o">=</span><span class="s1">'git show --pretty=short --show-signature'</span>
<span class="nb">alias </span><span class="nv">gsr</span><span class="o">=</span><span class="s1">'git svn rebase'</span>
<span class="nb">alias </span><span class="nv">gss</span><span class="o">=</span><span class="s1">'git status -s'</span>
<span class="nb">alias </span><span class="nv">gst</span><span class="o">=</span><span class="s1">'git status'</span>
<span class="nb">alias </span><span class="nv">gsta</span><span class="o">=</span><span class="s1">'git stash save'</span>
<span class="nb">alias </span><span class="nv">gstaa</span><span class="o">=</span><span class="s1">'git stash apply'</span>
<span class="nb">alias </span><span class="nv">gstc</span><span class="o">=</span><span class="s1">'git stash clear'</span>
<span class="nb">alias </span><span class="nv">gstd</span><span class="o">=</span><span class="s1">'git stash drop'</span>
<span class="nb">alias </span><span class="nv">gstl</span><span class="o">=</span><span class="s1">'git stash list'</span>
<span class="nb">alias </span><span class="nv">gstp</span><span class="o">=</span><span class="s1">'git stash pop'</span>
<span class="nb">alias </span><span class="nv">gsts</span><span class="o">=</span><span class="s1">'git stash show --text'</span>
<span class="nb">alias </span><span class="nv">gsu</span><span class="o">=</span><span class="s1">'git submodule update'</span>
<span class="nb">alias </span><span class="nv">gts</span><span class="o">=</span><span class="s1">'git tag -s'</span>
<span class="nb">alias </span><span class="nv">gtv</span><span class="o">=</span><span class="s1">'git tag | sort -V'</span>
<span class="nb">alias </span><span class="nv">gunignore</span><span class="o">=</span><span class="s1">'git update-index --no-assume-unchanged'</span>
<span class="nb">alias </span><span class="nv">gunwip</span><span class="o">=</span><span class="s1">'git log -n 1 | grep -q -c "\-\-wip\-\-" &amp;&amp; git reset HEAD~1'</span>
<span class="nb">alias </span><span class="nv">gup</span><span class="o">=</span><span class="s1">'git pull --rebase'</span>
<span class="nb">alias </span><span class="nv">gupv</span><span class="o">=</span><span class="s1">'git pull --rebase -v'</span>
<span class="nb">alias </span><span class="nv">glum</span><span class="o">=</span><span class="s1">'git pull upstream master'</span>
<span class="nb">alias </span><span class="nv">gwch</span><span class="o">=</span><span class="s1">'git whatchanged -p --abbrev-commit --pretty=medium'</span>
<span class="nb">alias </span><span class="nv">gwip</span><span class="o">=</span><span class="s1">'git add -A; git rm $(git ls-files --deleted) 2&gt; /dev/null; git commit --no-verify -m "--wip-- [skip ci]"'</span>
</code></pre></div></div>

<h2 id="展示帮助信息">展示帮助信息</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git <span class="nb">help</span> <span class="nt">-g</span>
</code></pre></div></div>

<h2 id="回到远程仓库的状态">回到远程仓库的状态</h2>

<p>抛弃本地所有的修改，回到远程仓库的状态。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch <span class="nt">--all</span> <span class="o">&amp;&amp;</span> git reset <span class="nt">--hard</span> origin/master
</code></pre></div></div>

<h2 id="重设第一个-commit">重设第一个 commit</h2>

<p>也就是把所有的改动都重新放回工作区，并<strong>清空所有的 commit</strong>，这样就可以重新提交第一个 commit 了</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git update-ref <span class="nt">-d</span> HEAD
</code></pre></div></div>

<h2 id="展示工作区和暂存区的不同">展示工作区和暂存区的不同</h2>

<p>输出<strong>工作区</strong>和<strong>暂存区</strong>的 different(不同)。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff
</code></pre></div></div>

<p>还可以展示本地仓库中任意两个 commit 之间的文件变动：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff &lt;commit-id&gt; &lt;commit-id&gt;
</code></pre></div></div>

<h2 id="展示暂存区和最近版本的不同">展示暂存区和最近版本的不同</h2>

<p>输出<strong>暂存区</strong>和本地最近的版本(commit)的 different(不同)。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff <span class="nt">--cached</span>
</code></pre></div></div>

<h2 id="展示暂存区工作区和最近版本的不同">展示暂存区、工作区和最近版本的不同</h2>

<p>输出<strong>工作区</strong>、<strong>暂存区</strong> 和本地最近的版本(commit)的 different(不同)。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff HEAD
</code></pre></div></div>

<h2 id="快速切换分支">快速切换分支</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout -
</code></pre></div></div>

<h2 id="删除已经合并到-master-的分支">删除已经合并到 master 的分支</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">--merged</span> master | <span class="nb">grep</span> <span class="nt">-v</span> <span class="s1">'^\*\|  master'</span> | xargs <span class="nt">-n</span> 1 git branch <span class="nt">-d</span>
</code></pre></div></div>

<h2 id="展示本地分支关联远程仓库的情况">展示本地分支关联远程仓库的情况</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-vv</span>
</code></pre></div></div>

<h2 id="关联远程分支">关联远程分支</h2>

<p>关联之后，<code class="highlighter-rouge">git branch -vv</code>就可以展示关联的远程分支名了，同时推送到远程仓库直接：<code class="highlighter-rouge">git push</code>，不需要指定远程仓库了。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-u</span> origin/mybranch
</code></pre></div></div>

<p>或者在 push 时加上<code class="highlighter-rouge">-u</code>参数</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin/mybranch <span class="nt">-u</span>
</code></pre></div></div>

<h2 id="列出所有远程分支">列出所有远程分支</h2>

<p>-r 参数相当于：remote</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-r</span>
</code></pre></div></div>

<h2 id="列出本地和远程分支">列出本地和远程分支</h2>

<p>-a 参数相当于：all</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-a</span>
</code></pre></div></div>

<h2 id="创建并切换到本地分支">创建并切换到本地分支</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> &lt;branch-name&gt;
</code></pre></div></div>

<h2 id="创建并切换到远程分支">创建并切换到远程分支</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> &lt;branch-name&gt; origin/&lt;branch-name&gt;
</code></pre></div></div>

<h2 id="删除本地分支">删除本地分支</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-d</span> &lt;local-branchname&gt;
</code></pre></div></div>

<h2 id="删除远程分支">删除远程分支</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin <span class="nt">--delete</span> &lt;remote-branchname&gt;
</code></pre></div></div>

<p>或者</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin :&lt;remote-branchname&gt;
</code></pre></div></div>

<h2 id="重命名本地分支">重命名本地分支</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-m</span> &lt;new-branch-name&gt;
</code></pre></div></div>

<h2 id="查看标签">查看标签</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git tag
</code></pre></div></div>

<p>展示当前分支的最近的 tag</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git describe <span class="nt">--tags</span> <span class="nt">--abbrev</span><span class="o">=</span>0
</code></pre></div></div>

<h2 id="本地创建标签">本地创建标签</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git tag &lt;version-number&gt;
</code></pre></div></div>

<p>默认 tag 是打在最近的一次 commit 上，如果需要指定 commit 打 tag：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git tag <span class="nt">-a</span> &lt;version-number&gt; <span class="nt">-m</span> <span class="s2">"v1.0 发布(描述)"</span> &lt;commit-id&gt;
</code></pre></div></div>

<h2 id="推送标签到远程仓库">推送标签到远程仓库</h2>

<p>首先要保证本地创建好了标签才可以推送标签到远程仓库：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin &lt;local-version-number&gt;
</code></pre></div></div>

<p>一次性推送所有标签，同步到远程仓库：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin --tags
</code></pre></div></div>

<h2 id="删除本地标签">删除本地标签</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git tag <span class="nt">-d</span> &lt;tag-name&gt;
</code></pre></div></div>

<h2 id="删除远程标签">删除远程标签</h2>

<p>删除远程标签需要<strong>先删除本地标签</strong>，再执行下面的命令：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin :refs/tags/&lt;tag-name&gt;
</code></pre></div></div>

<h2 id="切回到某个标签">切回到某个标签</h2>

<p>一般上线之前都会打 tag，就是为了防止上线后出现问题，方便快速回退到上一版本。下面的命令是回到某一标签下的状态：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> branch_name tag_name
</code></pre></div></div>

<h2 id="放弃工作区的修改">放弃工作区的修改</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout &lt;file-name&gt;
</code></pre></div></div>

<p>放弃所有修改：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nb">.</span>
</code></pre></div></div>

<h2 id="恢复删除的文件">恢复删除的文件</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rev-list <span class="nt">-n</span> 1 HEAD <span class="nt">--</span> &lt;file_path&gt; <span class="c">#得到 deleting_commit</span>

git checkout &lt;deleting_commit&gt;^ <span class="nt">--</span> &lt;file_path&gt; <span class="c">#回到删除文件 deleting_commit 之前的状态</span>
</code></pre></div></div>

<h2 id="回到某一个-commit-的状态并重新增添一个-commit">回到某一个 commit 的状态，并重新增添一个 commit</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git revert &lt;commit-id&gt;
</code></pre></div></div>

<h2 id="回到某个-commit-的状态并删除后面的-commit">回到某个 commit 的状态，并删除后面的 commit</h2>

<p>和 revert 的区别：reset 命令会抹去某个 commit id 之后的所有 commit</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset &lt;commit-id&gt;  <span class="c">#默认就是-mixed参数。</span>

git reset –mixed HEAD^  <span class="c">#回退至上个版本，它将重置HEAD到另外一个commit,并且重置暂存区以便和HEAD相匹配，但是也到此为止。工作区不会被更改。</span>

git reset –soft HEAD~3  <span class="c">#回退至三个版本之前，只回退了commit的信息，暂存区和工作区与回退之前保持一致。如果还要提交，直接commit即可  </span>

git reset –hard &lt;commit-id&gt;  <span class="c">#彻底回退到指定commit-id的状态，暂存区和工作区也会变为指定commit-id版本的内容</span>
</code></pre></div></div>

<h2 id="修改上一个-commit-的描述">修改上一个 commit 的描述</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit <span class="nt">--amend</span>
</code></pre></div></div>

<h2 id="查看-commit-历史">查看 commit 历史</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log
</code></pre></div></div>

<h2 id="查看某段代码是谁写的">查看某段代码是谁写的</h2>

<p>blame 的意思为‘责怪’，你懂的。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git blame &lt;file-name&gt;
</code></pre></div></div>

<h2 id="显示本地执行过-git-命令">显示本地执行过 git 命令</h2>

<p>就像 shell 的 history 一样</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reflog
</code></pre></div></div>

<h2 id="修改作者名">修改作者名</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit <span class="nt">--amend</span> <span class="nt">--author</span><span class="o">=</span><span class="s1">'Author Name &lt;email@address.com&gt;'</span>
</code></pre></div></div>

<h2 id="修改远程仓库的-url">修改远程仓库的 url</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote set-url origin &lt;URL&gt;
</code></pre></div></div>

<h2 id="增加远程仓库">增加远程仓库</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote add origin &lt;remote-url&gt;
</code></pre></div></div>

<h2 id="列出所有远程仓库">列出所有远程仓库</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote
</code></pre></div></div>

<h2 id="查看两个星期内的改动">查看两个星期内的改动</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git whatchanged <span class="nt">--since</span><span class="o">=</span><span class="s1">'2 weeks ago'</span>
</code></pre></div></div>

<h2 id="把-a-分支的某一个-commit放到-b-分支上">把 A 分支的某一个 commit，放到 B 分支上</h2>

<p>这个过程需要<code class="highlighter-rouge">cherry-pick</code>命令，<a href="http://sg552.iteye.com/blog/1300713#bc2367928">参考</a></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout &lt;branch-name&gt; <span class="o">&amp;&amp;</span> git cherry-pick &lt;commit-id&gt;
</code></pre></div></div>

<h2 id="给-git-命令起别名">给 git 命令起别名</h2>

<p>简化命令</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> alias.&lt;handle&gt; &lt;<span class="nb">command</span><span class="o">&gt;</span>

比如：git status 改成 git st，这样可以简化命令

git config <span class="nt">--global</span> alias.st status
</code></pre></div></div>

<h2 id="存储当前的修改但不用提交-commit">存储当前的修改，但不用提交 commit</h2>

<p>详解可以参考<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137602359178794d966923e5c4134bc8bf98dfb03aea3000">廖雪峰老师的 git 教程</a></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash
</code></pre></div></div>

<h2 id="保存当前状态包括-untracked-的文件">保存当前状态，包括 untracked 的文件</h2>

<p>untracked 文件：新建的文件</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash <span class="nt">-u</span>
</code></pre></div></div>

<h2 id="展示所有-stashes">展示所有 stashes</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash list
</code></pre></div></div>

<h2 id="回到某个-stash-的状态">回到某个 stash 的状态</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash apply &lt;stash@<span class="o">{</span>n<span class="o">}&gt;</span>
</code></pre></div></div>

<h2 id="回到最后一个-stash-的状态并删除这个-stash">回到最后一个 stash 的状态，并删除这个 stash</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash pop
</code></pre></div></div>

<h2 id="删除所有的-stash">删除所有的 stash</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash clear
</code></pre></div></div>

<h2 id="从-stash-中拿出某个文件的修改">从 stash 中拿出某个文件的修改</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout &lt;stash@<span class="o">{</span>n<span class="o">}&gt;</span> <span class="nt">--</span> &lt;file-path&gt;
</code></pre></div></div>

<h2 id="展示所有-tracked-的文件">展示所有 tracked 的文件</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git ls-files <span class="nt">-t</span>
</code></pre></div></div>

<h2 id="展示所有-untracked-的文件">展示所有 untracked 的文件</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git ls-files <span class="nt">--others</span>
</code></pre></div></div>

<h2 id="展示所有忽略的文件">展示所有忽略的文件</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git ls-files <span class="nt">--others</span> <span class="nt">-i</span> <span class="nt">--exclude-standard</span>
</code></pre></div></div>

<h2 id="强制删除-untracked-的文件">强制删除 untracked 的文件</h2>

<p>可以用来删除新建的文件。如果不指定文件文件名，则清空所有工作的 untracked 文件。<code class="highlighter-rouge">clean</code>命令，<strong>注意两点</strong>：</p>

<ol>
  <li>clean 后，删除的文件无法找回</li>
  <li>不会影响 tracked 的文件的改动，只会删除 untracked 的文件</li>
</ol>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clean &lt;file-name&gt; <span class="nt">-f</span>
</code></pre></div></div>

<h2 id="强制删除-untracked-的目录">强制删除 untracked 的目录</h2>

<p>可以用来删除新建的目录，<strong>注意</strong>:这个命令也可以用来删除 untracked 的文件。详情见上一条</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clean &lt;directory-name&gt; <span class="nt">-df</span>
</code></pre></div></div>

<h2 id="展示简化的-commit-历史">展示简化的 commit 历史</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">--pretty</span><span class="o">=</span>oneline <span class="nt">--graph</span> <span class="nt">--decorate</span> <span class="nt">--all</span>
</code></pre></div></div>

<h2 id="把某一个分支到导出成一个文件">把某一个分支到导出成一个文件</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git bundle create &lt;file&gt; &lt;branch-name&gt;
</code></pre></div></div>

<h2 id="从包中导入分支">从包中导入分支</h2>

<p>新建一个分支，分支内容就是上面<code class="highlighter-rouge">git bundle create</code>命令导出的内容</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone repo.bundle &lt;repo-dir&gt; <span class="nt">-b</span> &lt;branch-name&gt;
</code></pre></div></div>

<h2 id="执行-rebase-之前自动-stash">执行 rebase 之前自动 stash</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rebase <span class="nt">--autostash</span>
</code></pre></div></div>

<h2 id="从远程仓库根据-id拉下某一状态到本地分支">从远程仓库根据 ID，拉下某一状态，到本地分支</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch origin pull/&lt;<span class="nb">id</span><span class="o">&gt;</span>/head:&lt;branch-name&gt;
</code></pre></div></div>

<h2 id="详细展示一行中的修改">详细展示一行中的修改</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff <span class="nt">--word-diff</span>
</code></pre></div></div>

<h2 id="清除-gitignore-文件中记录的文件">清除 gitignore 文件中记录的文件</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clean <span class="nt">-X</span> <span class="nt">-f</span>
</code></pre></div></div>

<h2 id="展示所有-alias-和-configs">展示所有 alias 和 configs</h2>

<p><strong>注意：</strong> config 分为：当前目录（local）和全局（golbal）的 config，默认为当前目录的 config</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--local</span> <span class="nt">--list</span> <span class="o">(</span>当前目录<span class="o">)</span>
git config <span class="nt">--global</span> <span class="nt">--list</span> <span class="o">(</span>全局<span class="o">)</span>
</code></pre></div></div>

<h2 id="展示忽略的文件">展示忽略的文件</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status <span class="nt">--ignored</span>
</code></pre></div></div>

<h2 id="commit-历史中显示-branch1-有的但是-branch2-没有-commit">commit 历史中显示 Branch1 有的，但是 Branch2 没有 commit</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log Branch1 ^Branch2
</code></pre></div></div>

<h2 id="在-commit-log-中显示-gpg-签名">在 commit log 中显示 GPG 签名</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">--show-signature</span>
</code></pre></div></div>

<h2 id="删除全局设置">删除全局设置</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> <span class="nt">--unset</span> &lt;entry-name&gt;
</code></pre></div></div>

<h2 id="新建并切换到新分支上同时这个分支没有任何-commit">新建并切换到新分支上，同时这个分支没有任何 commit</h2>

<p>相当于保存修改，但是重写 commit 历史</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">--orphan</span> &lt;branch-name&gt;
</code></pre></div></div>

<h2 id="展示任意分支某一文件的内容">展示任意分支某一文件的内容</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git show &lt;branch-name&gt;:&lt;file-name&gt;
</code></pre></div></div>

<h2 id="clone-下来指定的单一分支">clone 下来指定的单一分支</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">-b</span> &lt;branch-name&gt; <span class="nt">--single-branch</span> https://github.com/user/repo.git
</code></pre></div></div>

<h2 id="忽略某个文件的改动">忽略某个文件的改动</h2>

<p>关闭 track 指定文件的改动，也就是 Git 将不会在记录这个文件的改动</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git update-index --assume-unchanged path/to/file
</code></pre></div></div>

<p>恢复 track 指定文件的改动</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git update-index --no-assume-unchanged path/to/file
</code></pre></div></div>

<h2 id="忽略文件的权限变化">忽略文件的权限变化</h2>

<p>不再将文件的权限变化视作改动</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config core.fileMode <span class="nb">false</span>
</code></pre></div></div>

<h2 id="以最后提交的顺序列出所有-git-分支">以最后提交的顺序列出所有 Git 分支</h2>

<p>最新的放在最上面</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git <span class="k">for</span><span class="nt">-each-ref</span> <span class="nt">--sort</span><span class="o">=</span><span class="nt">-committerdate</span> <span class="nt">--format</span><span class="o">=</span><span class="s1">'%(refname:short)'</span> refs/heads/
</code></pre></div></div>

<h2 id="在-commit-log-中查找相关内容">在 commit log 中查找相关内容</h2>

<p>通过 grep 查找，given-text：所需要查找的字段</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">--all</span> <span class="nt">--grep</span><span class="o">=</span><span class="s1">'&lt;given-text&gt;'</span>
</code></pre></div></div>

<h2 id="把暂存区的指定-file-放到工作区中">把暂存区的指定 file 放到工作区中</h2>

<p>不添加参数，默认是-mixed</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset &lt;file-name&gt;
</code></pre></div></div>

<h2 id="强制推送">强制推送</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push <span class="nt">-f</span> &lt;remote-name&gt; &lt;branch-name&gt;
</code></pre></div></div>

<h2 id="联系我">联系我</h2>

<ul>
  <li>博客园：<a href="http://www.cnblogs.com/xueweihan/">削微寒</a></li>
  <li>或者直接提 Pr，Issues</li>
</ul>

<p><strong><a href="#目录">⬆ 返回顶部</a></strong></p>

  </section>
</article>

<section class="read-more">
    
  <div class="read-more-item">
    <span class="read-more-item-dim">下一篇文章</span>
    <h2 class="post-list__post-title post-title">
      <a href="/2019/04/Command-line-API%E8%AF%AD%E6%B3%95%E5%8F%82%E8%80%83/" title="link to Command-line-API 语法参考">Command-line-API 语法参考</a>
    </h2>
    <div class="post-list__meta">
      <time
        datetime="2019-04-17 00:00:00 +0800"
        class="post-list__meta--date date"
        >2019-04-17</time
      >
    </div>
  </div>
  
</section>

<!-- <section class="post-comments">
  
    <div id="disqus_thread"></div>
    <script>
    
    var disqus_config = function () {
        this.page.url = "https://ucself.cn/2020/08/Git%E7%9A%84%E5%A5%87%E6%8A%80/";
        this.page.identifier = "/2020/08/Git%E7%9A%84%E5%A5%87%E6%8A%80/";
    };

    var disqus_shortname = 'vno-jekyll';
    
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>要查看<a href="http://disqus.com/?ref_noscript"> Disqus </a>评论，请启用 JavaScript</noscript>
    
  
  
  
  
</section>
 -->

            <section class="footer">
    <footer>
        <span class="footer__copyright">本站由 <a href="https://jekyllrb.com">Jekyll</a> 于 2020 生成。</span>
        <span class="footer__copyright">  </span>
        <span class="footer__copyright">本站由 <a href="https://ucself.cn">@ucself</a> 创建，采用 <a href="https://github.com/onevcat/vno-jekyll">Vno - Jekyll</a> 作为主题，您可以在 GitHub 找到<a href="https://github.com/onevcat/OneV-s-Den">本站源码</a> - &copy; 2020</span>
    </footer>
</section>

        </div>
    </div>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/main.js"></script>



    
  </body>

</html>
